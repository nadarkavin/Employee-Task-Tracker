<h2>Admin Dashboard</h2>

<!-- SUMMARY CARDS -->
<div class="cards">
  <div class="card total">
    <h3>Total Tasks</h3>
    <p>{{ totalTasks }}</p>
  </div>

  <div class="card track">
    <h3>On Track</h3>
    <p>{{ onTrack }}</p>
  </div>

  <div class="card warn">
    <h3>Warning</h3>
    <p>{{ warning }}</p>
  </div>

  <div class="card danger">
    <h3>Overdue</h3>
    <p>{{ overdue }}</p>
  </div>

  <div class="card complete">
    <h3>Completed</h3>
    <p>{{ completed }}</p>
  </div>
</div>

<!--  SEARCH -->
<div class="search-container">
  <input
    type="text"
    [(ngModel)]="searchTerm"
    (input)="onSearch()"
    placeholder="Search by employee name or task title..."
    class="search-input"
  />
</div>

<!-- EMPLOYEE CARDS -->
<div class="employee-cards" *ngIf="filteredEmployees.length > 0">
  <div class="employee-card" *ngFor="let emp of filteredEmployees">
    <!-- Employee Name Header -->
    <div class="employee-name">
      {{ emp.name }}
    </div>

    <!-- Task List -->
    <div class="tasks-list">
      <div class="task-item" *ngFor="let task of emp.tasks" [ngClass]="task.status">
        <div class="task-title">{{ task.title }}</div>
        <div class="task-meta">
          <span class="status-badge">{{ task.status.replace('_', ' ') }}</span>
          <span class="due-date">Due: {{ task.endDate }}</span>
        </div>
        <div class="task-description" *ngIf="task.description">
          {{ task.description }}
        </div>
      </div>
    </div>
  </div>
</div>

<div *ngIf="filteredEmployees.length === 0" class="no-results">
  No employees or tasks match your search.
</div>